/*
Navicat MySQL Data Transfer

Source Server         : 本地
Source Server Version : 50645
Source Host           : localhost:3306
Source Database       : shelf_nacos

Target Server Type    : MYSQL
Target Server Version : 50645
File Encoding         : 65001

Date: 2021-03-29 22:06:29
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for config_info
-- ----------------------------
DROP TABLE IF EXISTS `config_info`;
CREATE TABLE `config_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `data_id` varchar(255) COLLATE utf8_bin NOT NULL COMMENT 'data_id',
  `group_id` varchar(255) COLLATE utf8_bin DEFAULT NULL,
  `content` longtext COLLATE utf8_bin NOT NULL COMMENT 'content',
  `md5` varchar(32) COLLATE utf8_bin DEFAULT NULL COMMENT 'md5',
  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `src_user` text COLLATE utf8_bin COMMENT 'source user',
  `src_ip` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT 'source ip',
  `app_name` varchar(128) COLLATE utf8_bin DEFAULT NULL,
  `tenant_id` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT '租户字段',
  `c_desc` varchar(256) COLLATE utf8_bin DEFAULT NULL,
  `c_use` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `effect` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `type` varchar(64) COLLATE utf8_bin DEFAULT NULL,
  `c_schema` text COLLATE utf8_bin,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_configinfo_datagrouptenant` (`data_id`,`group_id`,`tenant_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info';

-- ----------------------------
-- Records of config_info
-- ----------------------------
INSERT INTO `config_info` VALUES ('2', 'shelf-auth-dev.yaml', 'DEFAULT_GROUP', 0x7365727665723A0D0A2020706F72743A20383030310D0A737072696E673A0D0A202072656469733A0D0A2020202064617461626173653A20300D0A20202020686F73743A203132372E302E302E310D0A20202020706F72743A20363337390D0A202020206C6574747563653A0D0A202020202020706F6F6C3A0D0A20202020202020206D696E2D69646C653A20380D0A20202020202020206D61782D69646C653A203530300D0A20202020202020206D61782D6163746976653A20323030300D0A20202020202020206D61782D776169743A2031303030300D0A2020202074696D656F75743A20353030300D0A202064617461736F757263653A0D0A2020202064796E616D69633A0D0A20202020202068696B6172693A0D0A2020202020202020636F6E6E656374696F6E2D74696D656F75743A2033303030300D0A20202020202020206D61782D6C69666574696D653A20313830303030300D0A20202020202020206D61782D706F6F6C2D73697A653A2031350D0A20202020202020206D696E2D69646C653A20350D0A2020202020202020636F6E6E656374696F6E2D746573742D71756572793A2073656C65637420310D0A2020202020202020706F6F6C2D6E616D653A205368656C6648696B61726943500D0A2020202020207072696D6172793A20626173650D0A20202020202064617461736F757263653A0D0A2020202020202020626173653A0D0A20202020202020202020757365726E616D653A20726F6F740D0A2020202020202020202070617373776F72643A203132333435360D0A202020202020202020206472697665722D636C6173732D6E616D653A20636F6D2E6D7973716C2E636A2E6A6462632E4472697665720D0A2020202020202020202075726C3A206A6462633A6D7973716C3A2F2F6C6F63616C686F73743A333330362F7368656C665F636C6F75645F626173653F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D5554462D38267573654A444243436F6D706C69616E7454696D657A6F6E6553686966743D74727565267573654C65676163794461746574696D65436F64653D66616C73652673657276657254696D657A6F6E653D474D54253262380D0A20200D0A6D7962617469732D706C75733A0D0A20202320E68C87E5AE9AE588ABE5908DE689ABE68F8FE8B7AFE5BE840D0A2020747970652D616C69617365732D7061636B6167653A20636F6D2E776F776F746F666665722E7368656C662E636F6D6D6F6E2E656E746974792E73797374656D0D0A20202320E68C87E5AE9A4D79426174697320584D4CE69687E4BBB6E8B7AFE5BE84EFBC9B0D0A20206D61707065722D6C6F636174696F6E733A20636C617373706174683A6D6170706572732F2A2E786D6C0D0A20202320E68C87E5AE9AE4B8BA6E756C6CEFBC8CE590A6E58899E5868DE68F92E585A5E7A9BAE580BCE697B6E4BC9AE68AA5E2809CE697A0E69588E79A84E58897E7B1BBE59E8BE2809DE99499E8AFAF0D0A2020636F6E66696775726174696F6E3A0D0A202020206A6462632D747970652D666F722D6E756C6C3A206E756C6C0D0A20202320E8AEBEE7BDAEE4B8BA66616C7365E585B3E997AD4D79426174697320506C75732042616E6E6572E68993E58DB00D0A2020676C6F62616C2D636F6E6669673A0D0A2020202062616E6E65723A2066616C7365, 'a7d16075c3284402e8788d148b5a85cc', '2021-03-29 13:40:54', '2021-03-29 13:40:54', null, '192.168.33.11', '', '16287963-260c-40ae-a8f3-4f58905202a5', null, null, null, 'yaml', null);

-- ----------------------------
-- Table structure for config_info_aggr
-- ----------------------------
DROP TABLE IF EXISTS `config_info_aggr`;
CREATE TABLE `config_info_aggr` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `data_id` varchar(255) COLLATE utf8_bin NOT NULL COMMENT 'data_id',
  `group_id` varchar(255) COLLATE utf8_bin NOT NULL COMMENT 'group_id',
  `datum_id` varchar(255) COLLATE utf8_bin NOT NULL COMMENT 'datum_id',
  `content` longtext COLLATE utf8_bin NOT NULL COMMENT '内容',
  `gmt_modified` datetime NOT NULL COMMENT '修改时间',
  `app_name` varchar(128) COLLATE utf8_bin DEFAULT NULL,
  `tenant_id` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT '租户字段',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_configinfoaggr_datagrouptenantdatum` (`data_id`,`group_id`,`tenant_id`,`datum_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='增加租户字段';

-- ----------------------------
-- Records of config_info_aggr
-- ----------------------------

-- ----------------------------
-- Table structure for config_info_beta
-- ----------------------------
DROP TABLE IF EXISTS `config_info_beta`;
CREATE TABLE `config_info_beta` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `data_id` varchar(255) COLLATE utf8_bin NOT NULL COMMENT 'data_id',
  `group_id` varchar(128) COLLATE utf8_bin NOT NULL COMMENT 'group_id',
  `app_name` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT 'app_name',
  `content` longtext COLLATE utf8_bin NOT NULL COMMENT 'content',
  `beta_ips` varchar(1024) COLLATE utf8_bin DEFAULT NULL COMMENT 'betaIps',
  `md5` varchar(32) COLLATE utf8_bin DEFAULT NULL COMMENT 'md5',
  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `src_user` text COLLATE utf8_bin COMMENT 'source user',
  `src_ip` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT 'source ip',
  `tenant_id` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT '租户字段',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_configinfobeta_datagrouptenant` (`data_id`,`group_id`,`tenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info_beta';

-- ----------------------------
-- Records of config_info_beta
-- ----------------------------

-- ----------------------------
-- Table structure for config_info_tag
-- ----------------------------
DROP TABLE IF EXISTS `config_info_tag`;
CREATE TABLE `config_info_tag` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `data_id` varchar(255) COLLATE utf8_bin NOT NULL COMMENT 'data_id',
  `group_id` varchar(128) COLLATE utf8_bin NOT NULL COMMENT 'group_id',
  `tenant_id` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT 'tenant_id',
  `tag_id` varchar(128) COLLATE utf8_bin NOT NULL COMMENT 'tag_id',
  `app_name` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT 'app_name',
  `content` longtext COLLATE utf8_bin NOT NULL COMMENT 'content',
  `md5` varchar(32) COLLATE utf8_bin DEFAULT NULL COMMENT 'md5',
  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `src_user` text COLLATE utf8_bin COMMENT 'source user',
  `src_ip` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT 'source ip',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_configinfotag_datagrouptenanttag` (`data_id`,`group_id`,`tenant_id`,`tag_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info_tag';

-- ----------------------------
-- Records of config_info_tag
-- ----------------------------

-- ----------------------------
-- Table structure for config_tags_relation
-- ----------------------------
DROP TABLE IF EXISTS `config_tags_relation`;
CREATE TABLE `config_tags_relation` (
  `id` bigint(20) NOT NULL COMMENT 'id',
  `tag_name` varchar(128) COLLATE utf8_bin NOT NULL COMMENT 'tag_name',
  `tag_type` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT 'tag_type',
  `data_id` varchar(255) COLLATE utf8_bin NOT NULL COMMENT 'data_id',
  `group_id` varchar(128) COLLATE utf8_bin NOT NULL COMMENT 'group_id',
  `tenant_id` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT 'tenant_id',
  `nid` bigint(20) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`nid`),
  UNIQUE KEY `uk_configtagrelation_configidtag` (`id`,`tag_name`,`tag_type`),
  KEY `idx_tenant_id` (`tenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_tag_relation';

-- ----------------------------
-- Records of config_tags_relation
-- ----------------------------

-- ----------------------------
-- Table structure for group_capacity
-- ----------------------------
DROP TABLE IF EXISTS `group_capacity`;
CREATE TABLE `group_capacity` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `group_id` varchar(128) COLLATE utf8_bin NOT NULL DEFAULT '' COMMENT 'Group ID，空字符表示整个集群',
  `quota` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '配额，0表示使用默认值',
  `usage` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '使用量',
  `max_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个配置大小上限，单位为字节，0表示使用默认值',
  `max_aggr_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '聚合子配置最大个数，，0表示使用默认值',
  `max_aggr_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个聚合数据的子配置大小上限，单位为字节，0表示使用默认值',
  `max_history_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最大变更历史数量',
  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_group_id` (`group_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='集群、各Group容量信息表';

-- ----------------------------
-- Records of group_capacity
-- ----------------------------

-- ----------------------------
-- Table structure for his_config_info
-- ----------------------------
DROP TABLE IF EXISTS `his_config_info`;
CREATE TABLE `his_config_info` (
  `id` bigint(64) unsigned NOT NULL,
  `nid` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `data_id` varchar(255) COLLATE utf8_bin NOT NULL,
  `group_id` varchar(128) COLLATE utf8_bin NOT NULL,
  `app_name` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT 'app_name',
  `content` longtext COLLATE utf8_bin NOT NULL,
  `md5` varchar(32) COLLATE utf8_bin DEFAULT NULL,
  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `src_user` text COLLATE utf8_bin,
  `src_ip` varchar(20) COLLATE utf8_bin DEFAULT NULL,
  `op_type` char(10) COLLATE utf8_bin DEFAULT NULL,
  `tenant_id` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT '租户字段',
  PRIMARY KEY (`nid`),
  KEY `idx_gmt_create` (`gmt_create`),
  KEY `idx_gmt_modified` (`gmt_modified`),
  KEY `idx_did` (`data_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='多租户改造';

-- ----------------------------
-- Records of his_config_info
-- ----------------------------
INSERT INTO `his_config_info` VALUES ('0', '1', 'shelf-auth-dev', 'DEFAULT_GROUP', '', 0x7365727665723A0D0A2020706F72743A20383030310D0A737072696E673A0D0A202072656469733A0D0A2020202064617461626173653A20300D0A20202020686F73743A203132372E302E302E310D0A20202020706F72743A20363337390D0A202020206C6574747563653A0D0A202020202020706F6F6C3A0D0A20202020202020206D696E2D69646C653A20380D0A20202020202020206D61782D69646C653A203530300D0A20202020202020206D61782D6163746976653A20323030300D0A20202020202020206D61782D776169743A2031303030300D0A2020202074696D656F75743A20353030300D0A202064617461736F757263653A0D0A2020202064796E616D69633A0D0A20202020202068696B6172693A0D0A2020202020202020636F6E6E656374696F6E2D74696D656F75743A2033303030300D0A20202020202020206D61782D6C69666574696D653A20313830303030300D0A20202020202020206D61782D706F6F6C2D73697A653A2031350D0A20202020202020206D696E2D69646C653A20350D0A2020202020202020636F6E6E656374696F6E2D746573742D71756572793A2073656C65637420310D0A2020202020202020706F6F6C2D6E616D653A205368656C6648696B61726943500D0A2020202020207072696D6172793A20626173650D0A20202020202064617461736F757263653A0D0A2020202020202020626173653A0D0A20202020202020202020757365726E616D653A20726F6F740D0A2020202020202020202070617373776F72643A203132333435360D0A202020202020202020206472697665722D636C6173732D6E616D653A20636F6D2E6D7973716C2E636A2E6A6462632E4472697665720D0A2020202020202020202075726C3A206A6462633A6D7973716C3A2F2F6C6F63616C686F73743A333330362F7368656C665F636C6F75645F626173653F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D5554462D38267573654A444243436F6D706C69616E7454696D657A6F6E6553686966743D74727565267573654C65676163794461746574696D65436F64653D66616C73652673657276657254696D657A6F6E653D474D54253262380D0A0D0A6D7962617469732D706C75733A0D0A20202320E68C87E5AE9AE588ABE5908DE689ABE68F8FE8B7AFE5BE840D0A2020747970652D616C69617365732D7061636B6167653A20636F6D2E776F776F746F666665722E7368656C662E636F6D6D6F6E2E656E746974792E73797374656D0D0A20202320E68C87E5AE9A4D79426174697320584D4CE69687E4BBB6E8B7AFE5BE84EFBC9B0D0A20206D61707065722D6C6F636174696F6E733A20636C617373706174683A6D6170706572732F2A2E786D6C0D0A20202320E68C87E5AE9AE4B8BA6E756C6CEFBC8CE590A6E58899E5868DE68F92E585A5E7A9BAE580BCE697B6E4BC9AE68AA5E2809CE697A0E69588E79A84E58897E7B1BBE59E8BE2809DE99499E8AFAF0D0A2020636F6E66696775726174696F6E3A0D0A202020206A6462632D747970652D666F722D6E756C6C3A206E756C6C0D0A20202320E8AEBEE7BDAEE4B8BA66616C7365E585B3E997AD4D79426174697320506C75732042616E6E6572E68993E58DB00D0A2020676C6F62616C2D636F6E6669673A0D0A2020202062616E6E65723A2066616C7365, '119fa987efd2d035e57bbe6f86cabea5', '2021-03-29 21:33:21', '2021-03-29 13:33:21', null, '192.168.33.11', 'I', '16287963-260c-40ae-a8f3-4f58905202a5');
INSERT INTO `his_config_info` VALUES ('1', '2', 'shelf-auth-dev', 'DEFAULT_GROUP', '', 0x7365727665723A0D0A2020706F72743A20383030310D0A737072696E673A0D0A202072656469733A0D0A2020202064617461626173653A20300D0A20202020686F73743A203132372E302E302E310D0A20202020706F72743A20363337390D0A202020206C6574747563653A0D0A202020202020706F6F6C3A0D0A20202020202020206D696E2D69646C653A20380D0A20202020202020206D61782D69646C653A203530300D0A20202020202020206D61782D6163746976653A20323030300D0A20202020202020206D61782D776169743A2031303030300D0A2020202074696D656F75743A20353030300D0A202064617461736F757263653A0D0A2020202064796E616D69633A0D0A20202020202068696B6172693A0D0A2020202020202020636F6E6E656374696F6E2D74696D656F75743A2033303030300D0A20202020202020206D61782D6C69666574696D653A20313830303030300D0A20202020202020206D61782D706F6F6C2D73697A653A2031350D0A20202020202020206D696E2D69646C653A20350D0A2020202020202020636F6E6E656374696F6E2D746573742D71756572793A2073656C65637420310D0A2020202020202020706F6F6C2D6E616D653A205368656C6648696B61726943500D0A2020202020207072696D6172793A20626173650D0A20202020202064617461736F757263653A0D0A2020202020202020626173653A0D0A20202020202020202020757365726E616D653A20726F6F740D0A2020202020202020202070617373776F72643A203132333435360D0A202020202020202020206472697665722D636C6173732D6E616D653A20636F6D2E6D7973716C2E636A2E6A6462632E4472697665720D0A2020202020202020202075726C3A206A6462633A6D7973716C3A2F2F6C6F63616C686F73743A333330362F7368656C665F636C6F75645F626173653F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D5554462D38267573654A444243436F6D706C69616E7454696D657A6F6E6553686966743D74727565267573654C65676163794461746574696D65436F64653D66616C73652673657276657254696D657A6F6E653D474D54253262380D0A0D0A6D7962617469732D706C75733A0D0A20202320E68C87E5AE9AE588ABE5908DE689ABE68F8FE8B7AFE5BE840D0A2020747970652D616C69617365732D7061636B6167653A20636F6D2E776F776F746F666665722E7368656C662E636F6D6D6F6E2E656E746974792E73797374656D0D0A20202320E68C87E5AE9A4D79426174697320584D4CE69687E4BBB6E8B7AFE5BE84EFBC9B0D0A20206D61707065722D6C6F636174696F6E733A20636C617373706174683A6D6170706572732F2A2E786D6C0D0A20202320E68C87E5AE9AE4B8BA6E756C6CEFBC8CE590A6E58899E5868DE68F92E585A5E7A9BAE580BCE697B6E4BC9AE68AA5E2809CE697A0E69588E79A84E58897E7B1BBE59E8BE2809DE99499E8AFAF0D0A2020636F6E66696775726174696F6E3A0D0A202020206A6462632D747970652D666F722D6E756C6C3A206E756C6C0D0A20202320E8AEBEE7BDAEE4B8BA66616C7365E585B3E997AD4D79426174697320506C75732042616E6E6572E68993E58DB00D0A2020676C6F62616C2D636F6E6669673A0D0A2020202062616E6E65723A2066616C7365, '119fa987efd2d035e57bbe6f86cabea5', '2021-03-29 21:40:07', '2021-03-29 13:40:08', null, '192.168.33.11', 'D', '16287963-260c-40ae-a8f3-4f58905202a5');
INSERT INTO `his_config_info` VALUES ('0', '3', 'shelf-auth-dev.yaml', 'DEFAULT_GROUP', '', 0x7365727665723A0D0A2020706F72743A20383030310D0A737072696E673A0D0A202072656469733A0D0A2020202064617461626173653A20300D0A20202020686F73743A203132372E302E302E310D0A20202020706F72743A20363337390D0A202020206C6574747563653A0D0A202020202020706F6F6C3A0D0A20202020202020206D696E2D69646C653A20380D0A20202020202020206D61782D69646C653A203530300D0A20202020202020206D61782D6163746976653A20323030300D0A20202020202020206D61782D776169743A2031303030300D0A2020202074696D656F75743A20353030300D0A202064617461736F757263653A0D0A2020202064796E616D69633A0D0A20202020202068696B6172693A0D0A2020202020202020636F6E6E656374696F6E2D74696D656F75743A2033303030300D0A20202020202020206D61782D6C69666574696D653A20313830303030300D0A20202020202020206D61782D706F6F6C2D73697A653A2031350D0A20202020202020206D696E2D69646C653A20350D0A2020202020202020636F6E6E656374696F6E2D746573742D71756572793A2073656C65637420310D0A2020202020202020706F6F6C2D6E616D653A205368656C6648696B61726943500D0A2020202020207072696D6172793A20626173650D0A20202020202064617461736F757263653A0D0A2020202020202020626173653A0D0A20202020202020202020757365726E616D653A20726F6F740D0A2020202020202020202070617373776F72643A203132333435360D0A202020202020202020206472697665722D636C6173732D6E616D653A20636F6D2E6D7973716C2E636A2E6A6462632E4472697665720D0A2020202020202020202075726C3A206A6462633A6D7973716C3A2F2F6C6F63616C686F73743A333330362F7368656C665F636C6F75645F626173653F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D5554462D38267573654A444243436F6D706C69616E7454696D657A6F6E6553686966743D74727565267573654C65676163794461746574696D65436F64653D66616C73652673657276657254696D657A6F6E653D474D54253262380D0A20200D0A6D7962617469732D706C75733A0D0A20202320E68C87E5AE9AE588ABE5908DE689ABE68F8FE8B7AFE5BE840D0A2020747970652D616C69617365732D7061636B6167653A20636F6D2E776F776F746F666665722E7368656C662E636F6D6D6F6E2E656E746974792E73797374656D0D0A20202320E68C87E5AE9A4D79426174697320584D4CE69687E4BBB6E8B7AFE5BE84EFBC9B0D0A20206D61707065722D6C6F636174696F6E733A20636C617373706174683A6D6170706572732F2A2E786D6C0D0A20202320E68C87E5AE9AE4B8BA6E756C6CEFBC8CE590A6E58899E5868DE68F92E585A5E7A9BAE580BCE697B6E4BC9AE68AA5E2809CE697A0E69588E79A84E58897E7B1BBE59E8BE2809DE99499E8AFAF0D0A2020636F6E66696775726174696F6E3A0D0A202020206A6462632D747970652D666F722D6E756C6C3A206E756C6C0D0A20202320E8AEBEE7BDAEE4B8BA66616C7365E585B3E997AD4D79426174697320506C75732042616E6E6572E68993E58DB00D0A2020676C6F62616C2D636F6E6669673A0D0A2020202062616E6E65723A2066616C7365, 'a7d16075c3284402e8788d148b5a85cc', '2021-03-29 21:40:53', '2021-03-29 13:40:54', null, '192.168.33.11', 'I', '16287963-260c-40ae-a8f3-4f58905202a5');

-- ----------------------------
-- Table structure for permissions
-- ----------------------------
DROP TABLE IF EXISTS `permissions`;
CREATE TABLE `permissions` (
  `role` varchar(50) NOT NULL,
  `resource` varchar(255) NOT NULL,
  `action` varchar(8) NOT NULL,
  UNIQUE KEY `uk_role_permission` (`role`,`resource`,`action`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of permissions
-- ----------------------------

-- ----------------------------
-- Table structure for roles
-- ----------------------------
DROP TABLE IF EXISTS `roles`;
CREATE TABLE `roles` (
  `username` varchar(50) NOT NULL,
  `role` varchar(50) NOT NULL,
  UNIQUE KEY `idx_user_role` (`username`,`role`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of roles
-- ----------------------------
INSERT INTO `roles` VALUES ('nacos', 'ROLE_ADMIN');

-- ----------------------------
-- Table structure for tenant_capacity
-- ----------------------------
DROP TABLE IF EXISTS `tenant_capacity`;
CREATE TABLE `tenant_capacity` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `tenant_id` varchar(128) COLLATE utf8_bin NOT NULL DEFAULT '' COMMENT 'Tenant ID',
  `quota` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '配额，0表示使用默认值',
  `usage` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '使用量',
  `max_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个配置大小上限，单位为字节，0表示使用默认值',
  `max_aggr_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '聚合子配置最大个数',
  `max_aggr_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个聚合数据的子配置大小上限，单位为字节，0表示使用默认值',
  `max_history_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最大变更历史数量',
  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_tenant_id` (`tenant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='租户容量信息表';

-- ----------------------------
-- Records of tenant_capacity
-- ----------------------------

-- ----------------------------
-- Table structure for tenant_info
-- ----------------------------
DROP TABLE IF EXISTS `tenant_info`;
CREATE TABLE `tenant_info` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `kp` varchar(128) COLLATE utf8_bin NOT NULL COMMENT 'kp',
  `tenant_id` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT 'tenant_id',
  `tenant_name` varchar(128) COLLATE utf8_bin DEFAULT '' COMMENT 'tenant_name',
  `tenant_desc` varchar(256) COLLATE utf8_bin DEFAULT NULL COMMENT 'tenant_desc',
  `create_source` varchar(32) COLLATE utf8_bin DEFAULT NULL COMMENT 'create_source',
  `gmt_create` bigint(20) NOT NULL COMMENT '创建时间',
  `gmt_modified` bigint(20) NOT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_tenant_info_kptenantid` (`kp`,`tenant_id`),
  KEY `idx_tenant_id` (`tenant_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='tenant_info';

-- ----------------------------
-- Records of tenant_info
-- ----------------------------
INSERT INTO `tenant_info` VALUES ('1', '1', '16287963-260c-40ae-a8f3-4f58905202a5', 'shelf', 'shelf cloud 微服务项目', 'nacos', '1616841903178', '1616841903178');

-- ----------------------------
-- Table structure for users
-- ----------------------------
DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `username` varchar(50) NOT NULL,
  `password` varchar(500) NOT NULL,
  `enabled` tinyint(1) NOT NULL,
  PRIMARY KEY (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of users
-- ----------------------------
INSERT INTO `users` VALUES ('nacos', '$2a$10$EuWPZHzz32dJN7jexM34MOeYirDdFAZm2kuWj7VEOJhhZkDrxfvUu', '1');
